!function(t){function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(module,exports,__webpack_require__){function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_AMD_DEFINE_RESULT__,stallon=0,Windows=window.Windows="undefined"==typeof Windows?window:Windows,SpiceInput=window.SpiceInput=Object.create(null);SpiceInput.prototype={x:0,y:0,delay:0,duration:0,press:!1,pressed:!1,released:!1,end:{x:0,y:0},pos:{x:0,y:0},dist:{x:0,y:0},start:{x:0,y:0},last:{x:0,y:0},touch:!1,touch_dist:{x:0,y:0},key:!1,keyPower:0,keyup:!1,keydown:!1,control:!1,doc:document,body:document.body,codes:new Array,codeList:new Array,confine:!1,preventNext:!0,preventDefault:function(t){return t.preventDefault(),t.target.app},preventNextInput:function(){return this.preventNext=!0},multi:{list:[]},window:{self:window,play:15,x:!1,y:!1,inside:!1},init_pointerEvents:function(){for(var t=(this.window.self.PointerEvent||this.window.self.MSPointerEvent,[]),i=this.window.self,e=t.length-1;e>0;e--)this.app.Listener(i,t[e],_function);this.window.self.PointerEvent?(this.app.Listener(this.window.self,"pointerdown",function(t){t.target.app&&(t.target.app.input.touch=!0,t.target.app.input.listener.down(t))}),this.app.Listener(this.window.self,"pointermove",function(t){t.target.app&&(t.target.app.input.touch=!0,t.target.app.input.listener.move(t))}),this.app.Listener(this.window.self,"pointerup",function(t){t.target.app&&(t.target.app.input.touch=!1,t.target.app.input.listener.up(t))})):this.window.self.MSPointerEvent?(this.app.Listener(this.window.self,"MSPointerDown",function(t){t.target.app&&(t.target.app.input.touch=!0,t.target.app.input.listener.down(t))}),this.app.Listener(this.window.self,"MSPointerMove",function(t){t.target.app&&(t.target.app.input.touch=!0,t.target.app.input.listener.move(t))}),this.app.Listener(this.window.self,"MSPointerUp",function(t){t.target.app&&(t.target.app.input.touch=!1,t.target.app.input.listener.up(t))})):(this.app.Listener(this.window.self,"mousedown",function(t){t.target.app&&t.target.app.input.listener.down(t)}),this.app.Listener(this.window.self,"mousemove",function(t){t.target.app&&t.target.app.input.listener.move(t)}),this.app.Listener(this.window.self,"mouseup",function(t){t.target.app&&(t.target.app.input.touch=!1,t.target.app.input.listener.up(t,t))}),this.app.Listener(this.window.self,"touchstart",function(t){t.target.app&&(t.target.app.input.touch=!0,t.target.app.input.listener.touch(t.targetTouches[0]),t.target.app.options.flags.touchprevent&&t.preventDefault())}),this.app.Listener(this.window.self,"touchmove",function(t){t.target.app&&(t.target.app.options.flags.touchprevent&&t.preventDefault(),t.target.app.input.touch=!0,t.target.app.input.listener.move(t,t.targetTouches[0]))}),this.app.Listener(this.window.self,"touchend",function(t){t.target.app&&(t.target.app.input.touch=!1,t.target.app.input.listener.up(t),t.target.app.options.flags.touchprevent&&t.preventDefault())}))},init_keys:function(){this.populateCodes(),this.app.Listener(this.window.self,"keydown",function(t){1==this.app.input.preventNext&&t.preventDefault(),this.app.input.preventNext=!1,this.app.input.codedown=this.app.input.codes[t.keyCode],this.app.input.codeList.push(this.app.input.codedown),t.ctrlKey&&(this.app.input.control=!0),this.app.input.pressed=!0,this.app.input.released=!1,this.app.input.listener.key_down(this.app)}),this.app.Listener(this.window.self,"keyup",function(t){this.app.input.preventNext&&t.preventDefault(),this.app.input.preventNext=!1,this.app.input.codeup=this.app.input.codes[t.keyCode],this.app.input.keyboardPop(this.app.input.codeup),this.app.input.control=!1,this.app.input.pressed=!1,this.app.input.released=!0,this.app.input["true"]=!0,this.app.input.listener.key_up(this.app)})},init_win:function(){this.wininitalize=!1,this.winpoint=null},init_options:function(){this.app.options.get("override").SelectStart||this.app.Listener(this.app.canvas.canvas,"selectstart",this.preventDefault),this.app.options.get("override").MSHoldVisual||this.app.Listener(this.app.canvas.canvas,"MSHoldVisual",this.preventDefault),this.app.options.get("override").ContextMenu&&(this.doc.oncontextmenu=this.preventDefault,this.window.self.oncontextmenu=this.preventDefault),this.app.options.get("override").Drag&&(this.doc.ondragstart=this.preventDefault,this.window.self.ondragstart=this.preventDefault),this.app.options.get("flags").mstouch&&this.doc.body.setAttribute("style","-ms-touch-action: none; ms-content-zooming: none; touch-action: none; -ms-overflow-style: none;"),this.app.options.get("flags").seamless&&(this.doc.body.style.overflow="hidden"),this.app.options.get("flags").tight&&(this.doc.body.style.padding="0px",this.doc.body.style.margin="0px auto")},init:function(t){return this.pointerPoint=t,this.scroll=this.app.Construct(this.scroll.prototype,this.scroll.constructor).init(),this.init_options(),this.init_pointerEvents(),console.log("pointer"),this.init_keys(),this.detect(),this},detect:function(){},controls:{app:null,mouse_lastx:null,up:function(t){var i;return this.app||(this.app=t.app),i=this.app.input,i.end.x=t.x,i.end.y=t.y,i.touched.uplist.push({x:i.x,y:i.y}),i.touched.last={x:i.x,y:i.y},i.touched.count,i.press=!1,i.pressed=!1,i.released=!0,i.touch=!1,i.dist.x=(i.x-i.start.x)*this.app.getScale(),i.dist.y=(i.y-i.start.y)*this.app.getScale(),!0},down:function(t){var i;return this.app||(this.app=t.app),i=this.app.input,i.x=i.start.x=t.x,i.y=i.start.y=t.y,i.press=!0,i.pressed=!0,i.dist.x=0,i.dist.y=0,i.touched.downlist.push({x:i.x,y:i.y}),!0},move:function(t){var i;return this.app||(this.app=t.app),i=this.app.input,i.pressed&&(i.press=!0,i.x=t.x,i.y=t.y,i.dist.x=(i.x-i.start.x)*this.app.getScale(),i.dist.y=(i.y-i.start.y)*this.app.getScale(),i.dist.x>0&&this.mouse_lastx>i.dist.x&&(i.start.x=i.x,i.dist.x=0),i.dist.x<0&&this.mouse_lastx<i.dist.x&&(i.start.x=i.x,i.dist.x=0),this.mouse_lastx=i.dist.x),!0}},winupdate:function(){var t=0,i={app:this.app,x:0,y:0};if(0==this.pressed&&1==this.lastpressed&&(this.released=!0,this.dist.x=0,this.dist.y=0,this.controls.up(i)),this.lastpressed=this.pressed,this.wininitalize){this.winpoint=Windows.UI.Input.PointerPoint.getCurrentPoint(1),this.winposition=this.pointerPoint.getCurrentPoint(1).rawPosition,this.pressed=this.winpoint.isInContact,this.pointerDevice=this.winpoint.pointerDevice;var e=this.pointerPoint.getCurrentPoint(1),s=e.properties;if(this.released){var n="Pointer Id: "+e.pointerId+" device: "+e.pointerDevice.pointerDeviceType;switch(e.pointerDevice.pointerDeviceType){case"mouse":case 2:n+="\nPointer type: mouse",n+="\nLeft button: "+s.isLeftButtonPressed,n+="\nRight button: "+s.isRightButtonPressed,n+="\nWheel button: "+s.isMiddleButtonPressed,n+="\nX1 button: "+s.isXButton1Pressed,n+="\nX2 button: "+s.isXButton2Pressed;break;case"pen":n+="\nPointer type: pen",e.isInContact&&(n+="\nPressure: "+s.pressure,n+="\nrotation: "+s.rotation,n+="\nTilt X: "+s.tiltX,n+="\nTilt Y: "+s.tiltY,n+="\nBarrel button pressed: "+s.isBarrelButtonPressed);break;case"touch":n+="\nPointer type: touch",n+="\nPressure: "+s.pressure,n+="\nrotation: "+s.rotation,n+="\nTilt X: "+s.tiltX,n+="\nTilt Y: "+s.tiltY;break;default:n+="\nPointer type: n/a"}n+="\n x:"+this.winposition.x+" y: "+this.winposition.y}t=this.winpoint,i.x=this.winposition.x,i.y=this.winposition.y,1==this.pressed&&1==this.lastpressed&&this.controls.move(i)}else try{Windows.UI.Input.PointerPoint.getCurrentPoint(1);this.pressed=Windows.UI.Input.PointerPoint.getCurrentPoint(1).isInContact,this.pointerDevice=Windows.UI.Input.PointerPoint.getCurrentPoint(1).pointerDevice,this.wininitalize=!0,i={app:this.app,x:this.winposition.x,y:this.winposition.y}}catch(a){i={app:this.app,x:0,y:0}}1==this.pressed&&0==this.lastpressed&&this.controls.down(i)},update:function(){return this.last.x=this.x,this.last.y=this.y,this.confined(),this.press=!1,this.touch=0,this.window.inside=0,this.wheelDelta=0,this.pressed?this.duration++:this.duration=0,this.released?(this.released=!1,this.dist.x=0,this.dist.y=0):null,this.winupdate(),this.codereleased=0,this.delay>0?this.delay-=Math.floor(this.delay-1*this.app.getDelta()):null,!0},listener:{touchpoints:0,down:function(t){var i=t.target.app.input;i.x=i.start.x=t.x||t.clientX||t.pageX,i.y=i.start.y=t.y||t.clientY||t.pageY,i.touched.count++,i.touched.downlist.push({x:i.x,y:i.y}),Windows||(i.pressed=!0),Windows||(i.press=!0),i.dist.x=0,i.dist.y=0},mouse_last:0,move:function(t){var i=t.target.app.input;t=t||i||{clientX:null,clientY:null};this.mouse_last;i.pressed&&(Windows||(i.press=!0),i.x=t.clientX||t.x||t.pageX,i.y=t.clientY||t.y||t.pageY,i.dist.x=(i.x-i.start.x)*t.target.app.getScale(),i.dist.y=(i.y-i.start.y)*t.target.app.getScale(),i.dist.x>0&&this.mouse_last>i.dist.x&&(i.start.x=i.x,i.dist.x=0),i.dist.x<0&&this.mouse_last<i.dist.x&&(i.start.x=i.x,i.dist.x=0),this.mouse_last=i.dist.x)},up:function(t){var i=t.target.app.input;i.end.x=t.x||i.x,i.end.y=t.y||i.y,i.touched.uplist.push({x:i.x,y:i.y}),i.touched.last={x:i.x,y:i.y},i.touched.count--,i.press=!1,i.pressed=!1,i.released=!0,i.touch=!1,i.dist.x=(i.x-i.start.x)*t.target.app.getScale(),i.dist.y=(i.y-i.start.y)*t.target.app.getScale()},key_down:function(t){t.input.key=!0,t.input.kpressed=!0},key_up:function(t){t.input.key=!1,t.input.kpressed=!1,t.input.kreleased=!0,t.input.kpressed=!1},touch:function(t){return}},touched:{count:0,uplist:[],downlist:[],last:{x:0,y:0},CheckTouchUp:function(){return this.uplist[this.uplist.length-1]},CheckTouchDown:function(){}},scroll:{prototype:{x:0,y:1,target:{x:0,y:0},accel:1,active:null,reverse:!1,a:!1,window:window,doc:document.documentElement,event:function(t,i){return this.app.options.get("seamless")&&(this.app.input.scroll.a=!0),void(this.app.options.get("seamless")&&t.preventDefault())},up:function(){var t=1;this.target.x>this.x&&(this.x+=this.app.client.Math.Clamp(Math.floor((this.target.x-this.x)*t),1,100),this.a=!0),this.target.x<this.x&&(this.x-=this.app.client.Math.Clamp(Math.floor((this.x-this.target.x)*t),1,100),this.a=!0),this.x=this.app.client.Math.Clamp(this.x,0,3*window.innerWidth),this.target.x=this.app.client.Math.Clamp(this.target.x,0,3*window.innerWidth),log(this.x,this.y)},update:function(t,i){var e=(this.window.pageXOffset||this.doc.scrollLeft)-(this.doc.clientLeft||0),s=(this.window.pageYOffset||this.doc.scrollTop)-(this.doc.clientTop||0);if(this.active){var n=Math.round(-this.x+this.target.x)/10,a=Math.round(-this.y+this.target.y)/10;return e<this.target.x&&(this.x+=this.accel*n),e>this.target.x&&(this.x+=this.accel*n),s<this.target.y&&(this.y+=this.accel*a),s>this.target.y&&(this.y+=this.accel*a),Math.round(this.x/10)==Math.round(this.target.x/10)&&Math.round(this.y/10)==Math.round(this.target.y/10)?!1:!0}},to:function(t,i){this.target.x=t,this.target.y=i}},constructor:function(t){return{app:{value:t},init:{value:function(){return this.to(0,0),this}}}}},confined:function(){this.confine?(this.y<this.app.client.visuals.fixY(0)?(this.window.y=0,this.window.inside-=1):this.y>this.app.client.visuals.fixY(this.app.client.setHeight)?(this.window.y=this.app.client.visuals.fixW(this.app.client.setHeight),this.window.inside+=1):this.window.y=-this.app.client.visuals.fixY(0)+this.y,this.x<this.app.client.visuals.fixX(0)?(this.window.x=0,this.window.inside-=1):this.x>this.app.client.visuals.fixX(this.app.client.setWidth)?(this.window.x=this.app.client.visuals.fixW(this.app.client.setWidth),this.window.inside+=1):this.window.x=-this.app.client.visuals.fixX(0)+this.x):(this.y<this.app.client.visuals.fixY(0)?this.window.y=-this.app.client.visuals.fixY(0)+this.y:this.y>this.app.client.visuals.fixY(this.app.client.setHeight)?this.window.y=-this.app.client.visuals.fixY(0)+this.y:this.window.y=-this.app.client.visuals.fixY(0)+this.y,this.x<this.app.client.visuals.fixX(0)?this.window.x=-this.app.client.visuals.fixX(0)+this.x:this.x>this.app.client.visuals.fixX(this.app.client.setWidth)?this.window.x=-this.app.client.visuals.fixX(0)+this.x:this.window.x=-this.app.client.visuals.fixX(0)+this.x)},populateCodes:function(){this.codes=[],this.codes[0]="",this.codes[1]="",this.codes[2]="",this.codes[3]="",this.codes[4]="",this.codes[5]="",this.codes[6]="",this.codes[7]="",this.codes[8]="backspace",this.codes[9]="tab",this.codes[13]="enter",this.codes[16]="shift",this.codes[17]="ctrl",this.codes[18]="alt",this.codes[19]="pause/break",this.codes[20]="capslock",this.codes[27]="escape",this.codes[32]="space",this.codes[33]="pageup",this.codes[34]="pagedown",this.codes[35]="end",this.codes[36]="home",this.codes[37]="leftarrow",this.codes[38]="uparrow",this.codes[39]="rightarrow",this.codes[40]="downarrow",this.codes[45]="insert",this.codes[46]="delete",this.codes[48]="0",this.codes[49]="1",this.codes[50]="2",this.codes[51]="3",this.codes[52]="4",this.codes[53]="5",this.codes[54]="6",this.codes[55]="7",this.codes[56]="8",this.codes[57]="9",this.codes[65]="a",this.codes[66]="b",this.codes[67]="c",this.codes[68]="d",this.codes[69]="e",this.codes[70]="f",this.codes[71]="g",this.codes[72]="h",this.codes[73]="i",this.codes[74]="j",this.codes[75]="k",this.codes[76]="l",this.codes[77]="m",this.codes[78]="n",this.codes[79]="o",this.codes[80]="p",this.codes[81]="q",this.codes[82]="r",this.codes[83]="s",this.codes[84]="t",this.codes[85]="u",this.codes[86]="v",this.codes[87]="w",this.codes[88]="x",this.codes[89]="y",this.codes[90]="z",this.codes[91]="leftwindowkey",this.codes[92]="rightwindowkey",this.codes[93]="selectkey",this.codes[96]="numpad0",this.codes[97]="numpad1",this.codes[98]="numpad2",this.codes[99]="numpad3",this.codes[100]="numpad4",this.codes[101]="numpad5",this.codes[102]="numpad6",this.codes[103]="numpad7",this.codes[104]="numpad8",this.codes[105]="numpad9",this.codes[106]="multiply",this.codes[107]="add",this.codes[109]="subtract",this.codes[110]="decimalpoint",this.codes[111]="divide",this.codes[112]="f1",this.codes[113]="f2",this.codes[114]="f3",this.codes[115]="f4",this.codes[116]="f5",this.codes[117]="f6",this.codes[118]="f7",this.codes[119]="f8",this.codes[120]="f9",this.codes[121]="f10",this.codes[122]="f11",this.codes[123]="f12",this.codes[144]="numlock",this.codes[145]="scrolllock",this.codes[175]="Up (Wii?)",this.codes[176]="Down (Wii?)",this.codes[177]="Left (Wii?)",this.codes[178]="Right (Wii?)",this.codes[170]="- (Wii?)",this.codes[174]="+ (Wii?)",this.codes[172]="1 (Wii?)",this.codes[173]="2 (Wii?)",this.codes[186]="semi-colon",this.codes[187]="equalsign",this.codes[188]="comma",this.codes[189]="dash",this.codes[190]="period",this.codes[191]="forwardslash",this.codes[192]="graveaccent",this.codes[219]="openbracket",this.codes[220]="backslash",this.codes[221]="closebraket",this.codes[222]="singlequote"},keyboardCheck:function(t){for(var i=this.codeList.length-1,e=i;e>=0;--e)if(this.codeList[e]==t)return!0;return!1},keyboardPop:function(t){for(var i=this.codeList.length-1,e=i;e>=0;--e)this.codeList[e]==t&&(this.codeList[e]=null)},mouse:function(){App.input.pressed||(App.input.dist=App.client.Math.Vector.Difference(App.ext.input,App.input.start))},mouse_distance:function(){App.input.pressed||(App.input.dist=App.client.Math.Vector.Difference(App.input.start,App.input.end))},touch_distance:function(t){t&&(App.input.x=t.pageX||t.clientX,App.input.y=t.pageY||t.clientX,App.input.dist=App.client.Math.Vector.Difference(App.input.start,App.input.end))}},SpiceInput.constructor=function(t){return{app:{writable:!0,configurable:!0,enumerable:!1,value:t},getX:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.x}},getY:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.y}},getLastX:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.last.x}},getLastY:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.last.y}},getStartX:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.start.x}},getStartY:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.start.y}},getDuration:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.duration}},getTouched:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.touch}},getPressed:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.pressed}},getReleased:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.released}},getPosition:{writable:!1,configurable:!1,enumerable:!1,value:function(t,i){return t&&i?{x:i.clientX,y:i.clientY}:!1}},getAngle:{writable:!1,configurable:!1,enumerable:!1,value:function(){return 57.2957795*Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}},getAngleDistance:{writable:!1,configurable:!1,enumerable:!1,value:function(){var t=(this.dist.x*this.dist.x+this.dist.y*this.dist.y)/2;return t}},getHorizontal:{writable:!1,configurable:!1,enumerable:!1,value:function(){var t=this.app.input.keyboardCheck("a")-this.app.input.keyboardCheck("d"),i=this.app.input.keyboardCheck("leftarrow")-this.app.input.keyboardCheck("rightarrow"),e=-this.getPressed()*this.app.input.dist.x,s=-this.getTouched()*this.app.input.dist.x,n=this.app.client.Math.Clamp(t||i,-1,1),a=this.app.client.Math.Clamp(e||s,-1,1);return{keyboard:n,touch:a}}},getVertical:{writable:!1,configurable:!1,enumerable:!1,value:function(){var t=this.app.input.keyboardCheck("s")-this.app.input.keyboardCheck("w"),i=this.app.input.keyboardCheck("downarrow")-this.app.input.keyboardCheck("uparrow"),e=this.getPressed()*this.app.input.dist.y,s=this.getTouched()*this.app.input.dist.y,n=this.app.client.Math.Clamp(t||i,-1,1),a=this.app.client.Math.Clamp(e||s,-1,1);return{keyboard:n,touch:a}}}}};var Steve,LOG_ENABLE=!1,log=LOG_ENABLE?function(t){console.log(t)}:function(){};window.scripts=[];var SpiceJS=window.SpiceJS=Object.create({init:function(){return this.TimeToBuild=(new Date).getTime(),this.window=window,this.window.apps||(this.window.apps=new Array(1)),!this.window.appsNextId>=0&&(this.window.appsNextId=0),!function(t,i,e){function s(){for(;o[0]&&"loaded"==o[0][p];)h=o.shift(),h[c]=!r.parentNode.insertBefore(h,r)}for(var n,a,h,o=[],r=t.scripts[0],c="onreadystatechange",p="readyState";n=e.shift();)a=t.createElement(i),""in r?(a.async=!1,t.head.appendChild(a)):r[p]?(o.push(a),a[c]=s):t.write("<"+i+' src="'+n+'" defer></'+i+">"),a.src=n}(document,"script",window.scripts),this},controller:{list:function(){return window.apps.length>1?window.apps:window.apps[0]}},get:function(){return this.proto},create:function(win){this.window=win||window;var temp={};return temp=Object.create({constructor:{VN:{writable:!1,configurable:!1,enumerable:!0,value:"0.7.0.15.11.17"},Init:{writable:!1,configurable:!1,enumerable:!1,value:function(t,i,e){var s=this;this.client=this.Construct(this.client.prototype,this.client.constructor),(this.canvas=this.Construct(this.canvas.prototype,this.canvas.constructor)).init(),setTimeout(function(){function t(){s.client.loop()}function i(){s.client.loopData()}s.client.initalize(t,i,s.scale)},this.time),this.client.init(t,i,e),this.input=this.Construct(this.input.prototype,this.input.constructor).init()}},OnLoad:{writable:!0,configurable:!1,enumerable:!1,value:function(t){t.Init("",480,320)}},OnApplicationLoad:{writable:!1,configurable:!1,enumerable:!1,value:function(t){t.target.app.OnLoad(t.target.app),log(t.target.app.getCurrent().name+": OnApplicationLoad")}},Listener:{writable:!1,configurable:!1,enumerable:!1,value:function(t,i,e,s){t.addEventListener?t.addEventListener(i,e,!1):t.attachEvent("on"+i,e),t.app=window.apps[this.id]=this}},Construct:{writable:!1,configurable:!1,enumerable:!1,value:function(t,i){var e=!1,s=t,n=t,a=i,h={};"undefined"!=typeof s.prototype&&"undefined"!=typeof s.constructor&&(a=s.constructor,n=s.prototype,e=!0);var o=typeof a;switch(o){case"undefined":h=Object.create(n);break;case"object":h=Object.create(n,a);break;case"function":h=Object.create(n,a(this));break;default:log("Expected 'object' or 'function': Type is "+o)}return e&&(t=h),h}},click:{writable:!1,configurable:!1,enumerable:!1,value:function(t,i){if(i.click)i.click();else if(document.createEvent&&t.target!==i){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);i.dispatchEvent(e)}}},create:{writable:!0,configurable:!1,enumerable:!1,value:function(t){return this.Construct(t||{},this.client.room)}},getFps:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.update.step.fps}},getCurrent:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.update.state.current}},getConnection:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.ext.connect.offline}},getConnectionError:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.ext.connect.error}},getConnectionAttempts:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.ext.connect.connectionAttempts}},getDelta:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.update.step.delta}},getScale:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.scale}},getWidth:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.setWidth}},getHeight:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.setHeight}},getScaledWidth:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.width}},getScaledHeight:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.height}},setTitle:{writable:!1,configurable:!1,enumerable:!1,value:function(t){return document.title==t?document.title:document.title=t}},setState:{writable:!1,configurable:!1,enumerable:!1,value:function(t){return this.client.update.state.set(t,!0)}},toggleWidescreen:{writable:!1,configurable:!1,enumerable:!1,value:function(){return this.client.update.fullscale=!this.client.update.fullscale}},time:{writable:!0,configurable:!1,enumerable:!1,value:0},main:{writable:!0,configurable:!1,enumerable:!1,value:{name:"Main",init:function(){},update:function(){},draw:function(){return!0}}}},prototype:{options:{overridescroll:!1,drag:0,targetfps:60,mute:!1,paths:{data:"data/",images:"images/",url:""},canvas:{override:!1,name:"canvas",buffername:"buffer",buffer:!1,background:"#000000",position:{position:"absolute",top:"",left:2*window.innerWidth,center:!1,z:1},size:{width:window.innerWidth,height:window.innerHeight}},msFlags:{msZoom:!1},flags:{canvas:!0,mstouch:!0,seamless:!0,tight:!0,touchprevent:!0},override:{keyboard:!0,mouse:!0,MSHoldVisual:!1,SelectStart:!1,ContextMenu:!0,Drag:!0},get:function(attr){if(attr){var list=SpiceJS.controller.list();if("object"!=typeof list){for(var i=window.apps.length-1;i>=0;i--)for(var attrname in this)if(attrname==attr){var l=[];l.push(eval("list["+i+"].options."+attrname))}return l}for(var attrname in this)if(attrname==attr)return eval("list.options."+attrname);return null}return this},set:function(t){for(var i in t)this[i]=t[i];return this}},user:{name:"",id:"",locale:"",gender:"",updated_time:"",timezone:"",quotes:"",response:{},get:function(){return this.response},fbconnect:function(t,i){window.fbAsyncInit=function(){FB.init({appId:t,status:!0,cookie:!0,xfbml:!0}),FB.login(function(){FB.api("/me/feed","post",{message:"Hello, world!"})},{scope:"publish_actions"})},function(t){var i,e="facebook-jssdk",s=t.getElementsByTagName("script")[0];t.getElementById(e)||(i=t.createElement("script"),i.id=e,i.async=!0,i.src="//connect.facebook.net/en_US/all.js",s.parentNode.insertBefore(i,s))}(document)},facebook:function(t){this.response=t,this.name=this.response.name,this.id=this.response.id,this.locale=this.response.locale,this.gender=this.response.gender,this.updated_time=this.response.updated_time,this.timezone=this.response.timezone,this.quotes=this.response.quotes}},ext:{constructor:function(t){return{app:{writable:!1,configurable:!1,enumerable:!1,value:t},init:{writable:!1,configurable:!1,enumerable:!1,value:function(t){this.app.setTitle(document.title+"."+this.app.main.name),this.app.Construct(this.useragent).init(),this.app.Construct(this.metatag).init(),this.app.Construct(this.cookies).init(),this.app.Construct(this.cursor).init(),this.app.Construct(this.connect).init()}}}},prototype:{useragent:{prototype:{agent:navigator.userAgent,mouse:!1,touch:!1,keyboard:!1,windows:!1,chrome:!1,safari:!1,iemobile:!1,nokia:!1,ie:!1,ios:!1,blackberry:!1,playbook:!1,bb10:!1,mobile:!1,IE:function(){return this.agent.match(/Trident/i)?!0:!1},iOS:function(){return this.agent.match(/iPhone|iPad|iPod/i)?!0:!1},Nokia:function(){return this.agent.match(/Nokia/i)?!0:!1},Mobile:function(){return this.mobile=this.IEMobile()||this.BlackBerry()||this.iOS()||this.Android()||this.Nokia()},Chrome:function(){return this.chrome=this.agent.match(/Chrome/i)?!0:!1},Safari:function(){return!this.agent.match(/Safari/i)&&!this.agent.match(/AppleWebKit/i)||this.agent.match(/Chrome/i)?!1:!0},Desktop:function(){return this.windows=this.IEMobile()||this.IE()||!this.Mobile()},Android:function(){return this.agent.match(/Android/i)?!0:!1},IEMobile:function(){var t=this.agent.match(/IEMobile/i),i=this.agent.match(/Windows Phone/i),e=this.agent.match(/touch/i);return t||i||e?!0:!1},BlackBerry:function(){return this.playbook=this.agent.match(/PlayBook/i)||!1,this.bb10=this.agent.match(/BB10/i)||!1,this.agent.match(/BlackBerry/i)||this.playbook||this.bb10?!0:!1}},constructor:function(t){return{app:{writable:!1,configurable:!1,enumerable:!1,value:t},init:{writable:!1,configurable:!1,enumerable:!1,value:function(){this.chrome=this.Chrome(),this.safari=this.Safari(),this.iemobile=this.IEMobile(),this.nokia=this.Nokia(),this.ie=this.trident=this.IE(),this.blackberry=this.BlackBerry(),this.ios=this.iOS(),this.android=this.Android(),this.touch=this.Mobile(),this.mouse=!this.Mobile()||this.BlackBerry(),this.keyboard=this.Desktop()||this.BlackBerry(),this.Mobile(),this.Desktop(),this.app.ext.useragent=this}}}}},cookies:{constructor:function(t){return{app:{writable:!1,configurable:!1,enumerable:!1,value:t},init:{value:function(){return this.polyfill()}}}},prototype:{polyfill:function(){return function(t,i){"use strict";var e=function(t){if("object"!=typeof t.document)throw new Error("Cookies.js requires a `window` with a `document` object");var e=t.Cookies=function(t,i,s){return 1===arguments.length?e.get(t):e.set(t,i,s)};return e._document=t.document,e._cacheKeyPrefix="cookey.",e._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),e.defaults={path:"/",secure:!1},e.get=function(t){return e._cachedDocumentCookie!==e._document.cookie&&e._renewCache(),e._cache[e._cacheKeyPrefix+t]},e.set=function(t,s,n){return n=e._getExtendedOptions(n),n.expires=e._getExpiresDate(s===i?-1:n.expires),e._document.cookie=e._generateCookieString(t,s,n),e},e.expire=function(t,s){return e.set(t,i,s)},e._getExtendedOptions=function(t){return{path:t&&t.path||e.defaults.path,domain:t&&t.domain||e.defaults.domain,expires:t&&t.expires||e.defaults.expires,secure:t&&t.secure!==i?t.secure:e.defaults.secure}},e._isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e._getExpiresDate=function(t,i){if(i=i||new Date,"number"==typeof t?t=t===1/0?e._maxExpireDate:new Date(i.getTime()+1e3*t):"string"==typeof t&&(t=new Date(t)),t&&!e._isValidDate(t))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return t},e._generateCookieString=function(t,i,e){t=t.replace(/[^#$&+\^`|]/g,encodeURIComponent),t=t.replace(/\(/g,"%28").replace(/\)/g,"%29"),i=(i+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),e=e||{};var s=t+"="+i;return s+=e.path?";path="+e.path:"",s+=e.domain?";domain="+e.domain:"",s+=e.expires?";expires="+e.expires.toUTCString():"",s+=e.secure?";secure":""},e._getCacheFromString=function(t){for(var s={},n=t?t.split("; "):[],a=0;a<n.length;a++){var h=e._getKeyValuePairFromCookieString(n[a]);s[e._cacheKeyPrefix+h.key]===i&&(s[e._cacheKeyPrefix+h.key]=h.value)}return s},e._getKeyValuePairFromCookieString=function(t){var i=t.indexOf("=");return i=0>i?t.length:i,{key:decodeURIComponent(t.substr(0,i)),value:decodeURIComponent(t.substr(i+1))}},e._renewCache=function(){e._cache=e._getCacheFromString(e._document.cookie),e._cachedDocumentCookie=e._document.cookie},e._areEnabled=function(){var t="cookies.js",i="1"===e.set(t,1).get(t);return e.expire(t),i},e.enabled=e._areEnabled(),e},s="object"==typeof t.document?e(t):e;__WEBPACK_AMD_DEFINE_RESULT__=function(){return s}.call(exports,__webpack_require__,exports,module),!(__WEBPACK_AMD_DEFINE_RESULT__!==i&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}("undefined"==typeof window?this:window),Cookies}}},metatag:{constructor:function(t){return{app:{writable:!1,configurable:!1,enumerable:!1,value:t},init:{value:function(){return this.metaAppend(this.metaTag("msapplication-tap-highlight",this.ms_taphighlight)),this.metaAppend(this.metaTag("apple-mobile-web-app-capable",this.apple_webapp)),this.metaAppend(this.metaTag("apple-mobile-web-app-status-bar-style",this.apple_statusbar)),this.metaAppend(this.metaTag("cursor-event-mode","native")),this.metaAppend(this.metaTag("touch-event-mode","native")),this.metaAppend(this.metaTag("HandheldFriendly","True")),this.metaAppend(this.metaTag("viewport","width=device-width, user-scalable=no")),this.metaAppend(this.metaTag("viewport","target-densitydpi="+this.app.client.setWidth+",-webkit-min-device-pixel-ratio=1,min-resolution:="+this.app.client.setWidth+",-moz-device-pixel-ratio=1")),this.metaAppend(this.metaTag("viewport","user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1")),this.app.ext.metatag=this,this}}}},prototype:{ms_taphighlight:"no",apple_webapp:"yes",apple_statusbar:"black",devicedpi:!0,devicewidth:!0,metaFavicon:function(t){this.metaAppend(this.metaLink(t,"shortcut icon","image/png"))},metaLink:function(t,i,e){return this.link=document.createElement("link"),this.link.href=t,this.link.rel=i,this.link.type=e,this.link},metaTag:function(t,i){return this.meta=document.createElement("meta"),this.meta.content=i,this.meta.name=t,this.meta},metaAppend:function(t){return this.head.appendChild(t)?(this.count++,!0):!1},head:document.getElementsByTagName("head")[0],link:null,meta:null,count:0}},cursor:{constructor:function(t){return{app:{writable:!1,configurable:!1,enumerable:!1,value:t},init:{value:function(){this.set(this.wait),this.app.ext.cursor=this}}}},prototype:{auto:"auto",inherit:"inherit",crosshair:"crosshair",def:"default",help:"help",move:"move",pointer:"pointer",progress:"progress",text:"text",wait:"wait",eresize:"e-resize",neresize:"ne-resize",nwresize:"nw-resize",nresize:"n-resize",seresize:"se-resize",swresize:"sw-resize",sresize:"s-resize",wresize:"w-resize",current:"auto",last:"auto",changed:!1,count:0,lock:0,delay:4,set:function(t,i){this.last==t||this.lock||(this.last=this.current,this.current=t,this.app.options.canvas.buffer&&(this.app.canvas.getBuffer().style.cursor=this.current),this.app.canvas.getCanvas().style.cursor=this.current,document.body.style.cursor=this.current,this.changed=!0,this.count++)}}},connect:{constructor:function(t){return{app:{writable:!1,configurable:!1,enumerable:!1,value:t},init:{value:function(){this.test(),this.app.ext.connect=this}}}},prototype:{offline:!1,connectionAttempts:0,error:null,window:window,load:function(t,i,e,s){var n;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&i(n.response,e,s)},n.open("GET",t,!0),n.send()},hostReachable:function(){return},test:function(t){return this.offline=this.hostReachable()}}}}},input:SpiceInput,canvas:{prototype:{canvas:{},buffer:{},head:document.getElementsByTagName("head")[0],rendering_style:document.createElement("style"),canvasList:document.getElementsByTagName("canvas"),
doc:document,getCanvas:function(){return this.canvas},getBuffer:function(){return this.buffer},setCanvas:function(t){this.canvas=t},setBuffer:function(t){this.buffer=t},setBackground:function(t){this.app.options.canvas.buffer&&(this.buffer.style.background=t),this.app.options.canvas.background=this.canvas.style.background=t},getBackground:function(){return this.buffer.style.background},createCanvas:function(){var t=this.doc.createElement("canvas");return t.id=this.app.options.canvas.name,this.doc.body.appendChild(t),this.doc.getElementById(this.app.options.canvas.name)},createBuffer:function(){var t=this.doc.createElement("canvas");return t.id=this.app.options.canvas.buffername,this.doc.body.appendChild(t),this.doc.getElementById(this.app.options.canvas.buffername)},styleCanvas:function(){this.getCanvas().style.position=this.app.options.canvas.position.position,this.getCanvas().style.zIndex=this.app.options.canvas.position.z,this.app.options.canvas.buffer&&(this.getBuffer().style.position=this.app.options.canvas.position.position,this.getBuffer().style.zIndex=this.app.options.canvas.position.z-1),this.app.options.canvas.override&&(this.getCanvas().style.left=this.app.options.canvas.position.left+"px",this.getCanvas().style.top=this.app.options.canvas.position.top+"px",this.app.options.canvas.buffer&&(this.getBuffer().style.left=this.app.options.canvas.position.left+"px",this.getBuffer().style.top=this.app.options.canvas.position.top+"px"))}},constructor:function(t){return{app:{value:t},init:{writable:!1,configurable:!1,enumerable:!1,value:function(){var i=document.getElementById(this.app.options.canvas.name);if(i){if(this.setCanvas(i),t.options.canvas.buffer){var e=document.getElementById(this.app.options.canvas.buffername);e?this.setBuffer(e):this.createBuffer()}}else this.setCanvas(this.createCanvas()),this.app.options.canvas.buffer&&this.setBuffer(this.createBuffer());this.styleCanvas(),this.rendering_style.innerHTML=this.rendering_style.innerText='@-ms-viewport {width:100%;height:100%;} #Client, #Buffer, img[srcApp=".gif"],img[srcApp=".jpg"], img[srcApp=".png"] {image-rendering: -moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering: crisp-edges;image-rendering: -webkit-optimize-contrast;-ms-interpolation-mode: nearest-neighbor;}',this.head.appendChild(this.rendering_style)}}}}},client:{constructor:function(t){return{app:{value:t},init:{writable:!1,configurable:!1,enumerable:!1,value:function(i,e,s){this.discription=i,this.w=this.width=this.setWidth=e,this.h=this.height=this.setHeight=s,(this.app.ext=this.app.Construct(this.app.ext.prototype,this.app.ext.constructor)).init(i),(this.visuals=this.app.Construct(this.visuals.prototype,this.visuals.constructor)).init(this),(this.graphics=this.app.Construct(this.graphics.prototype,this.graphics.constructor)).init(),this.room=Object.create(this.room.prototype,this.room.constructor(this.app)).init(),(this.audio=this.audio=Object.create(this.audio.prototype,this.audio.constructor())).init(),(this.mainLoop=Object.create(this.pace.prototype,this.pace.constructor(this))).init(t.options.targetfps,t.options.targetfps),(this.second=Object.create(this.pace.prototype,this.pace.constructor(this))).init(1,t.options.targetfps),this.main=Object.create(this.app.main),(this.update.state=Object.create(this.update.state.prototype,this.update.state.constructor(this))).init(this.main)}}}},prototype:{initalize:function(t,i,e){this.scale=e,this.client_f=t,this.client_data=i,requestAnimationFrame(this.client_f),setTimeout(i,1e3/60),this.app.ext.cursor.set(this.app.ext.cursor.def),this.app.ext.time=1*((new Date).getTime()-SpiceJS.TimeToBuild)},loopData:function(){this.mute=this.audio.update(),this.update.size_difference(this),this.app&&this.app.input&&this.app.input.update&&this.app.input.update(),setTimeout(this.client_data,1e3/60)},loop:function(t){this.resized=this.update.size(this),this.visuals.flip(this.scale),this.scale=this.update.scale(this),this.fps=this.update.step.tick(this.second,this.mainLoop,this.app),requestAnimationFrame(this.client_f)},update:{last:{w:0,h:0},difference:{x:0,y:0},scaler:{s:1,x:1,y:1},scaling:!0,scalediff:0,lastscale:1,fullscale:!1,resized:!1,set:0,frames:0,size_difference:function(t){this.difference=t.Math.Vector.Difference(new t.Math.Vec(this.last.w.toFixed(4),this.last.h.toFixed(4)),new t.Math.Vec(t.width.toFixed(4),t.height.toFixed(4)))},size:function(t){return this.difference.x+this.difference.y==0?!1:(t.app.canvas.getCanvas().width=this.last.w=t.width,t.app.canvas.getCanvas().height=this.last.h=t.height,t.app.canvas.getBuffer().width=this.last.w=t.width,t.app.canvas.getBuffer().height=this.last.h=t.height,!0)},scale:function(t){var i=window,e=i.innerWidth,s=i.innerHeight;return this==i?log("Warning: Scale: [this === window]"):this.pause>.5?log("Warning: Paused",30):1==this.set?log("Warning: Scale: Duplicate Run",30):(t.app.options.canvas.override?(t.app.options.canvas.size.width!==t.width&&(t.width=t.app.options.canvas.size.width),document.body.clientHeight>window.innerHeight,t.app.options.canvas.size.height!==t.height&&(t.height=t.app.options.canvas.size.height),t.app.options.canvas.position.center&&t.app.options.canvas.size.left!==t.width/2&&(t.app.canvas.getCanvas().style.left=-t.width/2+i.innerWidth/2+"px",t.app.options.canvas.buffer&&(t.app.canvas.getBuffer().style.left=-t.width/2+i.innerWidth/2+"px"))):(s!==t.height&&(t.height=s),e!==t.width&&(t.width=e)),this.set=1,this.scaler.x=t.height/t.setHeight,this.scaler.y=t.width/t.setWidth,this.fullscale?this.scaler.s=this.scaler.x:this.scaler.s=this.scaler.x<this.scaler.y?this.scaler.x:this.scaler.y,isNaN(this.scaler.s)?void(this.set=0):(this.scalediff=this.scaler.s-this.lastscale,this.set=0,this.lastscale=this.scaler.s,this.scaler.s))},state:{name:"",current:{},initalized:!1,prototype:{init:function(){"undefined"!=typeof this.current.init&&this.current.init()},update:function(){"undefined"!=typeof this.current.update&&this.current.update()},draw:function(){"undefined"!=typeof this.current.draw&&this.current.draw()},set:function(t,i){(this.name=t.name)&&(this.initalized=!0)&&(t.started||(this.current=Object.create(t,this.app.app.client.room)),i&&(this.current.init(),this.current.started=!0))}},constructor:function(t){return{app:{value:t},init:{value:function(t){this.set(t,!0),this.initalized=!0}}}}},step:{first:function(t,i){this.app=i,"undefined"!=typeof t&&t.Step(i)&&(this.fps=1*(this.clean()/t.delta*1e3),this.delta=t.targetfps/this.fps,this.delta=Math.ceil(1e5*this.delta)/1e5,this.delta>2.5&&(this.delta=2.5),this.delta!==this.delta+1?this.app.client.delta=this.delta_speed=this.delta:this.app.client.delta=this.delta_speed=1,0!=this.fps&&(this.increment=-t.targetfps+t.targetfps*(t.targetfps/this.fps),this.adding+=this.increment,this.adding>t.targetfps&&(this.adding-=this.adding/t.targetfps*t.targetfps,this.addings+=1)))},focus:function(){return this.app.ext.freezeonfocus?document.hasFocus():!0},second:function(t,i){if("undefined"==typeof t||!t.Step(i))return!1;this.frames++;for(var e=this.addings;e>=0;--e)i.client.update.state.initalized&&(this.focus()?i.client.update.state.current.update():null);this.addings=0},tick:function(t,i,e){return this.first(t,e),this.second(i,e),this.fps},clean:function(){var t=this.frames;return this.frames=0,t},delta_speed:1,increment:0,addings:0,adding:0,delta:1,frames:0,fps:1}},Math:{Vec:function(t,i){this.x=t,this.y=i},Clamp:function(t,i,e){return i>t?i:t>e?e:t},Wrap:function(t,i,e){return i>t?e:t>e?i:t},Difference:function(t,i){return t-i},Pythageon:function(t,i){return Math.sqrt(t*t+i*i)},Vector:{x:0,y:0,Difference:function(t,i){return{x:t.x-i.x,y:t.y-i.y}},Sum:function(t,i){return{x:t.x+i.x,y:t.y+i.y}}},Data:{Total:function(){return this.total=this.kilobyteCount(App)},Update:function(){return App.client.update.state.initalized?this.update=this.byteCount(App.client.update.state.current.update):this.update=this.byteCount(Object.create(null,App.client.room))},isFunction:function(t){var i={};return t&&"[object Function]"===i.toString.call(t)},byteCount:function(t){if(this.isFunction(t))return this.byteCountF(2*t.toString().length);for(this.objectList=[],this.stack=[t],this.bytes=0;this.stack.length;)if(this.value=this.stack.pop(),"trueean"==typeof this.value)this.bytes+=4;else if("string"==typeof this.value)this.bytes+=2*this.value.length;else if("number"==typeof this.value)this.bytes+=8;else if("object"==typeof this.value&&-1===this.objectList.indexOf(this.value)){this.objectList.push(this.value);for(i in this.value){if(this.value[i]==t||this.value[i]==window){if(this.selfCount>0||this.value[i]==window){this.selfCount=0;break}this.selfCount++}this.stack.push(this.value[i])}}return this.bytes},byteCountF:function(t){return encodeURI(t).split(/%..|./).length-1},kilobyteCount:function(t){return Math.round(this.byteCount(t)*this.KB*100)/100},kb:.0078125,KB:.0009765625,objectList:[{}],selfCount:0,update:0,stack:[{}],value:{},bytes:0,total:0}},Particles:{p:0,draw:function(t){for(this.p=_Rain.size-1;this.p;--this.p)_RainParticles[this.p].y>App.client.visuals.fixY(0)&&_RainParticles[this.p].y<App.client.visuals.fixY(App.client.setHeight)&&_RainParticles[this.p].draw(App.client.visuals,t)},update:function(){for(var t=0;t<_Rain.size;++t)_RainParticles[t].update()}},room:{prototype:{init:null,app:null,visuals:null,graphics:null,started:!1,Started:{value:function(){return function(){var t=this.Started;return this.Started=!0,t}}}},constructor:function(t){return{app:{value:t},visuals:{value:t.client.visuals},graphics:{value:t.client.graphics},init:{writable:!1,configurable:!1,enumerable:!1,value:function(){return{app:{value:t},visuals:{value:t.client.visuals},graphics:{value:t.client.graphics}}}}}}},pace:{prototype:{timer:0,rate:0,offset:0,delta:1,Time:function(t){return this.timer=(new Date).getTime(),this.timer-this.offset},Step:function(t){this.delta=this.Time(t);var i=this.rate*this.delta;return i>1&&(this.offset+=Math.floor(i)/this.rate),i-1>0?!0:!1},GetStepsPerSecond:function(){return 1e3/this.delta}},constructor:function(){return{init:{value:function(t,i){return this.targetfps=i,this.timer=(new Date).getTime(),this.rate=t/1e3,this.offset=this.timer-1e3/t,this.delta=0,!0}}}}},audio:{prototype:{mute:!1,quality:0,current:0,audio:new Audio,sound:new Array(new Audio),length:new Array,soundbyte:function(t,i){this.fname=new Audio(t),this.play=function(){this.fname.pause(),this.fname.play()}},MultiChannelSound:function(t,i,e){if(!App.ext.useragent.ie){this.fname=t,this.channel=new Array;for(var s=0;s!=i;++s)this.channel[s]=new Audio(t);this.currentChannel=0,this.play=function(){try{this.channel[this.currentChannel].currentTime=0,this.channel[this.currentChannel].play(),++this.currentChannel,this.currentChannel==this.channel.length&&(this.currentChannel=0)}catch(t){}},this.stop=function(){this.channel[this.currentChannel].pause(),++this.currentChannel,this.currentChannel==this.channel.length&&(this.currentChannel=0)}}},toggle:function(){this.mute=!0},set:function(t,i){if(!this.mute){this.sound[this.current].pause(),this.sound[this.current]=t;try{this.sound[this.current].currentTime=0}catch(e){}return}},update:function(){return"object"==typeof this.sound&&this.sound[this.current].paused&&this.sound[this.current].play(),this.mute}},constructor:function(){return{init:{value:function(){return!0}}}}},_Animation:function(t,i,e,s){this.aniImage=new Array,this.aniImage=t,this.nextAni=new Array,this.nextAni=s,this.aniImage[0]?this.aniMax=this.aniImage.length-1:this.aniMax=0,this.aniCurrent=0,this.aniSpeed=i*App.delta_speed,this.animate=e,this.aniChanged=0,this.aniPrev=t,this.aniDir=1,this.recreate=function(t,i,e){this.aniCurrent=0,this.aniImage=t,this.aniSpeed=i,this.animate=e,this.aniDir=1},this.update=function(){!this.aniImage==this.aniPrev&&(this.aniPrev=this.aniImage,this.changed()),-2==this.animate&&(this.aniCurrent>=this.aniMax&&(this.aniDir=-1),this.aniCurrent<=0&&(this.aniDir=1),this.aniCurrent<=this.aniMax&&(this.aniCurrent+=this.aniSpeed*this.aniDir)),-1==this.animate&&this.aniCurrent>0&&(this.aniCurrent-=this.aniSpeed),0==this.animate&&(this.aniCurrent=0),1==this.animate&&(this.aniCurrent<this.aniMax&&(this.aniCurrent+=this.aniSpeed),this.aniCurrent>this.aniMax&&(this.aniCurrent=this.aniMax)),2==this.animate&&(this.aniCurrent+=this.aniSpeed,this.aniCurrent>=this.aniMax&&(this.aniCurrent=0))},this.changed=function(){this.recreate(this.nextAni,this.aniSpeed,0)},this.reverse=function(){1==this.animate?this.animate=-1:this.animate=1},this.get_img=function(){return this.aniImage[Math.round(this.aniCurrent)]?this.aniImage[Math.round(this.aniCurrent)]:this.aniImage}},graphics:{prototype:{path:"",SpriteWebItems:new Array(0),SpriteLoadNumber:0,SpriteLoadErrors:0,SpriteLoadTime:0,Sources:{},Sprite:{},sprite:{},img:{},load:function(t,i){return"undefined"==typeof i&&(i=this.app.options.get("paths").images+""+t),this.Sources.append(this.SpriteAppend(t,i)),this.Sources.getByName(t)},SpriteCreate:function(t,i,e){return this.SpriteLoadNumber++,this.SpriteLoadTime+=10*this.app.delta_speed*this.SpriteLoadNumber,this.sprite=Object.create(this.Sprite,{file:{value:t},src:{value:i},name:{value:e}})},SpriteAppend:function(t,i){return(this.img=this.SpriteCreate(i,this.path+i+".png",t)).get()},SpriteUnload:function(t,i){delete this.Sources.getByName(t)},webLoad:function(t,i){return this.SpriteWebItems[t]=new Image,this.SpriteWebItems[t].src=i,this.SpriteWebItems[t]},graphicsLibrary:function(){return this.Sprite=Object.create(null),this.Sources=Object.create(null),this.Sources.prototype={get:function(){return this.index},getByName:function(t){return this.index[t]},getName:function(t){return this.index[t].name}},this.Sprite=Object.create(this.Base,{constructor:function(t,i){return this.path=t,this.filename=i,t},src:{value:"S:undefined"},file:{value:"S:undefined"},name:{value:"S:undefined"}}),this.Sources=Object.create(this.Sources.prototype,{count:{writable:!0,configurable:!0,value:0},index:{value:new Array},append:{value:function(t){this.index[t.name]!=t&&(this.index[t.name]=t,this.count++)}},unload:{value:function(t){return this.index[t]=null,this.index[t]}}}),!0},Base:{get:function(){var t=new Image;return t.src=this.src,t.file=this.file,t.name=this.name,t.number=1+window.apps[0].client.graphics.SpriteLoadErrors++,t.onload=function(){window.apps[0].client.graphics.SpriteLoadErrors--},t},unload:function(){this.Sources.unload(this.name)}},getErrors:function(){return this.SpriteLoadErrors},getImage:function(t){return this.Sources.getByName(t)}},constructor:function(t){return{app:{value:t},init:{value:function(){return this.graphicsLibrary(),!0}}}}},visuals:{prototype:{stat2:Object.create(null),alpha:0,free:!1,point:14,grd:Object.create(null),zindex:1,seamless:!1,tight:!0,disable:!1,buffer_target:0,bleed:1,canvas:Object.create(null),buffer:Object.create(null),canvas_context:Object.create(null),buffer_context:Object.create(null),fillStyle:null,scale:0,fontT:"",fontL:"",within:!1,stat:{x:0,y:0,w:0,h:0,s:0,a:0,c:0,colour:"",oldcol:"",init:function(t,i){this.x=0,this.y=0,this.w=0,this.h=0,this.s=0,this.a=0,this.c=0,this.colour=t||0,this.oldcol=i||0}},window:window,getData:function(){var t=this.buffer.width,i=this.buffer.height,e=this.buffer_context.getImageData(0,0,t,i),s=t/2,n=e.data;for(y=0;y<=i;y++)for(inpos=y*t*4,outpos=inpos+4*s,x=0;x<s;x++){var a=n[inpos++],h=n[inpos++],o=n[inpos++];n[inpos++];o=Math.min(255,o),0==a&&0==h&&0==o?(inpos++,inpos++,inpos++,e.data[inpos++]=0):(inpos++,inpos++,inpos++,inpos++)}this.buffer_context.putImageData(e,0,0)},flip:function(){this.fillStyle="transparent"==this.app.canvas.canvas.style.background,this.scale=this.app.client.scale,0==this.fillStyle&&this.screen_fill(this.app.client.visuals.bleed,this.app.options.canvas.background),this.app.options.canvas.buffer?(this.canvas_context.drawImage(this.buffer,0,0),1==this.fillStyle&&this.buffer_context.clearRect(0,0,this.window.innerWidth,this.window.innerHeight)):(1==this.fillStyle&&this.buffer_context.clearRect(0,0,this.window.innerWidth,this.window.innerHeight),this.app.client.update.state.initalized&&this.app.client.update.state.draw())},animationFrame:function(t,i,e){Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var t=["webkit","moz"],i=0;i<t.length&&!window.requestAnimationFrame;++i){var e=t[i];window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var s=0;window.requestAnimationFrame=function(t){var i=Date.now(),e=Math.max(s+16,i);return setTimeout(function(){t(s=e)},e-i)},window.cancelAnimationFrame=clearTimeout}}()},getX:function(){return(this.app.input.x-(-this.app.getWidth()/2+this.window.innerWidth/2)+this.app.options.canvas.position.left/3).toFixed(2)},getY:function(){return(this.app.input.y-this.app.options.canvas.position.top).toFixed(2)},fixX:function(t){return(t*this.scale+this.app.client.width/2-this.app.client.setWidth/2*this.scale).toFixed(2)},fixY:function(t){return(t*this.scale+this.app.client.height/2-this.app.client.setHeight/2*this.scale).toFixed(2)},fixW:function(t){return(t*this.scale).toFixed(2)},fixH:function(t){return(t*this.scale).toFixed(2)},chkc:{},chk:function(t,i,e,s,n,a,h,o,r){return this.chkc=this.colour(),this.opacity(a),this.colour(o),this.free?{x:t,y:i,w:e*n||0,h:s*n||0,s:n,a:this.app.client.Math.Clamp(a,0,1)||1,c:h||!1,colour:o||this.colour(),oldcol:this.chkc,font:r,init:this.stat.init}:{x:this.fixX(t),y:this.fixY(i),w:this.fixW(e)*n,h:this.fixH(s)*n,s:n,a:this.app.client.Math.Clamp(a,0,1)||0,c:h||!1,colour:o||this.colour(),oldcol:this.chkc,font:r||this.font,init:this.stat.init}},debug:function(){if("Normal"!=!App.ext.debug.strength&&"off"!=App.ext.debug.strength&&"none"!=App.ext.debug.strength){this.rect_ext(-this.app.client.setWidth,0,this.app.client.setWidth+this.app.client.setWidth+this.app.client.setWidth,this.point,1,.1,0),this.rect_ext(0,0,this.app.client.setWidth,this.point,1,.1,0),this.text_ext("0",0,.9*this.point,.9*this.point),this.text_ext(this.app.client.setWidth,this.app.client.setWidth-25,.9*this.point,.9*this.point),window.innerWidth>1.1*this.app.client.setWidth*this.scale&&(this.text_free(0-this.fixX(0),30,4+this.fixY(this.point),.99*this.point),this.text_free(this.app.client.width,window.innerWidth-15,4+this.fixY(this.point),.99*this.point)),App.fps<20&&log("FPSLow: "+App.fps);for(var t=[[this.app.client.name],[App.code+" "+App.codefmk],[this.app.client.name],["app.ext.input","x "+Math.round(100*App.input.x)/100,"x "+Math.round(100*App.input.window.x)/100,"d "+App.input.pressed+"   p "+App.input.duration,"y "+Math.round(100*App.input.y)/100,"y "+Math.round(100*App.input.window.y)/100,App.ext.useragent.trident?"Input: Touch":"Input: Mouse"],["app.client","discription","","","width",this.app.client.setWidth,this.app.client.width,"height",this.app.client.setHeight,this.app.client.height,"fps",Math.round(this.app.client.fps)+"/"+this.app.client.targetfps+":"+Math.round(1e3*this.app.client.fps)/1e3,"","scale",this.app.client.scale,"","delta",this.app.client.delta,"","buffer","double",""],["app.client.state","","[ "+this.app.client.update.state.name+" ] : "+this.app.client.Math.Data.Update()+"B","",""],["app.client.data","","visuals ","Lite"!==App.ext.debug.strength?this.app.client.Math.Data.kilobyteCount(this.app.client.visuals):"?","","graphics ","Lite"!==App.ext.debug.strength?this.app.client.Math.Data.kilobyteCount(this.app.client.graphics):"?","","audio ","Lite"!==App.ext.debug.strength?this.app.client.Math.Data.kilobyteCount(this.app.client.audio):"?","","state ","Lite"!==App.ext.debug.strength?this.app.client.Math.Data.kilobyteCount(this.app.client.update.state.current):"?","","ext ","Lite"!==App.ext.debug.strength?this.app.client.Math.Data.kilobyteCount(App.ext):"?","","Total ","Lite"!==App.ext.debug.strength?this.app.client.Math.Data.Total():"?",""]],i=0,e=0,s=65,n=0,a=0;a<t.length&&(6!=a||"Lite"!=App.ext.debug.strength);++a){for(var h=t[a].length;h>0;--h)0==h%3&&(i=0,n=15,e++),this.text_ext(t[a][t[a].length-h],n+15+s*i,25+1.1*this.point*e,"#AAAAAA",1,1,0),n=0,i++;i=0,e++}if(this.text_ext("Log: "+App.ext.debug.text,35,this.app.client.setHeight-25,this.point),"Lite"!=App.ext.debug.strength)try{}catch(o){}}},clean:function(){this.cleanAlpha?this.opacity(1):null,this.colour(this.stat.oldcol),this.stat.init(this.colour(),this.stat.oldcol)},colour:function(t,i){return t?t&&(this.buffer_context.fillStyle=t):this.buffer_context.fillStyle},opacity:function(t){return t!=this.alpha&&(this.alpha=t,this.canvas_context.globalAlpha=this.buffer_context.globalAlpha=t!=this.lastopacity?t:1)},font:function(t){return this.canvas_context.font=this.buffer_context.font=this.fontT=t},shadow:function(t,i,e,s){this.buffer_context.shadowColor=t,this.buffer_context.shadowBlur=i,this.buffer_context.shadowOffsetX=e,this.buffer_context.shadowOffsetY=s},shadow_clear:function(){this.buffer_context.shadowBlur=0},text_free:function(t,i,e,s){this.colour(s),this.font(Math.round(this.point*this.scale)+"px sans-serif"),this.buffer_context.fillText(t,i-this.text_width(t)/2-this.point,e-this.point/2),this.clean()},text_ext:function(t,i,e,s,n,a,h,o){this.stat=this.chk(i,e,this.text_width(t),n,n,a,h,s);var r=this.font();this.stat.h=this.stat.s*this.scale,this.font(this.stat.h+"em "+o),this.stat.h=this.point*this.stat.h,this.buffer_context.fillText(t,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)),this.font(r),this.clean()},text_button:function(t,i,e,s,n,a,h,o){this.stat=this.chk(i,e,this.text_width(t),n,n,a,h,s);var r=this.font();this.stat.h=this.stat.s*this.scale,this.font(this.stat.h+"em "+o),this.stat.h=this.point*this.stat.h,this.touch_within_stat(this.stat)?(this.opacity(this.stat.a-.2*this.app.input.pressed),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.stat.c?this.buffer_context.fillText(t,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(t,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))):(this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.fillText(t,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(t,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))),this.font(r),this.clean()},text_button_bg:function(t,i,e,s,n,a,h,o,r){this.stat=this.chk(i,e,this.text_width(t),n,n,a,h,s),this.shadow("#AAAAAA",1,1,1);var c=this.font();this.stat.h=this.stat.s*this.scale,this.font(this.stat.h+"em "+r),this.stat.h=this.point*this.stat.h,this.within=this.touch_within_stat(this.stat),this.within?(this.colour("#00A0F1"),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(this.stat.x-.2*this.stat.w,this.stat.y-.2*this.stat.h,1.1*this.stat.w,1.1*this.stat.h),this.buffer_context.fill(),this.colour("#DDDDDD"),this.opacity(this.stat.a-.2*App.input.pressed),App.ext.cursor.set(App.ext.cursor.pointer,!0),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.app.input.released&&(o(),this.app.input.delay=1),this.stat.c?this.buffer_context.fillText(t,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(t,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))):(this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.fillText(t,this.stat.x-Math.floor(this.stat.w/2)-this.stat.s,this.stat.y-Math.floor(this.stat.h/2)):this.buffer_context.fillText(t,this.stat.x,this.stat.y+Math.floor(this.stat.h/2))),this.font(c),this.clean()},text:function(t,i,e,s){this.text_ext(t,i,e,s,1,1,0,"Calibri")},text_shadow:function(t,i,e,s){this.buffer_context.shadowColor=s,this.buffer_context.shadowBlur=t,this.buffer_context.shadowOffsetX=i,this.buffer_context.shadowOffsetY=e},rect:function(t,i,e,s,n){this.rect_ext(t,i,e,s,1,1,0,n)},rect_centered:function(t,i,e,s,n){this.rect_ext(t,i,e,s,1,1,1,n)},rect_ext:function(t,i,e,s,n,a,h,o){this.stat=this.chk(t,i,e,s,n,a,h,o),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(this.stat.x,this.stat.y,this.stat.w,this.stat.h),this.buffer_context.fill(),this.clean()},rect_stroke:function(t,i,e,s,n,a,h,o,r){this.stat=this.chk(t,i,e,s,n,a,h,o),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(this.stat.x,this.stat.y,this.stat.w,this.stat.h),this.buffer_context.fillStyle="transparent",this.buffer_context.fill(),this.buffer_context.lineWidth=r||1,this.buffer_context.strokeStyle=o,this.buffer_context.stroke(),this.clean()},setting:!0,rect_button:function(t,i,e,s,n,a,h,o,r){this.stat=this.chk(t,i,e,s,n,a,r,h);var c=!1;this.touch_within(this.stat.x,this.stat.y,this.stat.w,this.stat.h,this.stat.c)&&(c=!0,App.ext.cursor.set(App.ext.cursor.pointer,!0),App.input.released&&App.input.delay<1&&(o(),App.input.delay=1)),this.setting&&this.rect_ext(t,i,e,s,n,a,r,h);var p=1;c&&this.rect_ext(t-p,i-p,e+2*p,s+2*p,n,a,r,h)},rect_rotate:function(t,i,e,s,n,a,h,o){this.stat=this.chk(t,i,e,s,a,h,1,n),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*o),this.stat.c?this.buffer_context.rect(0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(0,0,this.stat.w,this.stat.h),this.buffer_context.rotate(.0174532925*-o),this.buffer_context.translate(-this.stat.x,-this.stat.y),this.clean()},rect_gradient:function(t,i,e,s,n,a,h,o,r,c){this.stat=this.chk(t,i,e,s,n,a,h,o),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*c),this.stat.w&&this.stat.h&&this.stat.x&&this.stat.y&&(this.stat.c?this.grd=this.buffer_context.createLinearGradient(Math.floor(this.stat.w/2),0,Math.floor(this.stat.w/2),Math.floor(this.stat.h/2)):this.grd=this.buffer_context.createLinearGradient(0,0,this.stat.w,this.stat.h),this.buffer_context.beginPath(),this.stat.c?this.buffer_context.rect(0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.rect(0,0,this.stat.w,this.stat.h),this.grd.addColorStop(0,o),this.grd.addColorStop(1,r),this.buffer_context.fillStyle=this.grd,this.buffer_context.fill(),this.buffer_context.rotate(.0174532925*-c),this.buffer_context.translate(-this.stat.x,-this.stat.y),this.clean())},rect_free:function(t,i,e,s,n,a,h,o){this.stat=this.chk(t,i,e,s,n,a,h,o),this.buffer_context.beginPath(),h?this.buffer_context.rect(t-e/2,i-s/2,e,s):this.buffer_context.rect(t,i,e,s),this.buffer_context.fill(),this.clean()},screen_fill:function(t,i){this.stat=this.chk(0,0,1,1,1,t,1,i),this.buffer_context.beginPath(),this.buffer_context.rect(0,0,window.innerWidth,window.innerHeight),this.buffer_context.fill(),this.clean()},image_count:0,image_element:function(t){return this.elm=document.createElement("image"),this.elm.draw=function(t,i,e,s,n,a,h,o,r){var s=this.style;this.stat=App.client.visuals.chk(i,e,t.width,t.height,s,o,r),s.position="fixed",s.left=this.stat.x+"px",s.top=this.stat.y+"px",s.width=this.stat.w+"px",s.height=this.stat.h+"px",s.opacity=this.stat.a,s.onclick=this.loc,this.src=t},document.body.appendChild(this.elm),this.elm.src=t.src,this.elm},image_replacecol:function(t,i,e,s,n,a,h){function o(t){var i=document.createElement("canvas");i.width=t.width,i.height=t.height;var e=i.getContext("2d");e.drawImage(t,0,0);var s=e.getImageData(0,0,i.width,i.height);return s.replace(/^data:image\/(png|jpg);base64,/,"")}this.stat=this.chk(i,e,t.width,t.height,s,n,a);var r=new Image;r.src=t;var c=o(t);r.src=o(r),t=r;for(var p=c.data,u=0,l=1,f=2,n=3,d=0;d<p.length;d+=4)0==p[d+u]&&0==p[d+l]&&0==p[d+f]&&(p[d+n]=255);ctx.putImageData(c,0,0),t.src=a.toDataURL("image/png"),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w,this.stat.h)},image_ext:function(t,i,e,s,n,a){this.stat=this.chk(i,e,t.width,t.height,s,n,a),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w,this.stat.h)},image_ext2:function(t,i,e,s,n,a,h){this.stat=this.chk(i,e,t.width,t.height,s,a,h),this.stat2=this.chk(i,e,t.width,t.height,n,a,h),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w*this.stat.s,this.stat.h*this.stat2.s):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w*this.stat.s,this.stat.h*this.stat2.s)},image_centered:function(t,i,e,s){this.image_ext(t,i,e,1,s,!0)},image:function(t,i,e){this.image_ext(t,i,e,1,1,!1)},image_scaled:function(t,i,e,s){this.image_ext(t,i,e,s,1,!1)},image_stat:function(t,i,e,s,n,a,h,o,r,c){return this.stat=this.chk(i,e,r,c,s,n,a),this.stat},image_flip:function(t,i){this.stat=this.chk(t,i,1,1,1,1,1),this.buffer_context.save(),this.buffer_context.scale(-1,1),this.buffer_context.translate(2*-this.stat.x,0)},image_restore:function(t,i){},image_part:function(t,i,e,s,n,a,h,o,r,c){this.stat=this.chk(i,e,r,c,s,n,a);1.1*this.stat.s*this.app.getScale();this.stat.c?this.buffer_context.drawImage(t,h,o,r,c,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,h,o,r,c,this.stat.x,this.stat.y,this.stat.w,this.stat.h)},image_part_rotate:function(t,i,e,s,n,a,h,o,r,c,p){this.stat=this.chk(i,e,r,c,s,n,a);1.1*this.stat.s*this.app.getScale();this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*p),this.stat.c?this.buffer_context.drawImage(t,h,o,r,c,0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,h,o,r,c,0,0,this.stat.w,this.stat.h),this.buffer_context.rotate(.0174532925*-p),this.buffer_context.translate(-this.stat.x,-this.stat.y)},image_rotate:function(t,i,e,s,n,a,h,o){this.stat=this.chk(i,e,t.width,t.height,s,a,!0),this.buffer_context.translate(this.stat.x,this.stat.y),this.buffer_context.rotate(.0174532925*n),this.stat.c?this.buffer_context.drawImage(t,0-Math.floor(this.stat.w/2),0-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,0,0,this.stat.w,this.stat.h),this.buffer_context.rotate(.0174532925*-n),this.buffer_context.translate(-this.stat.x,-this.stat.y)},texture:function(t,i,e,s,n,a,h,o,r,c,p){var a=a||0,c=c||0,r=r||0,u=0,l=t,f=s,d=n,p=p;r*=p,c*=p;var g=l.height,x=l.width,w=l.height,m=+x*p,b=+w*p,y=e,v=i,_=Math.round((y/p+d+(-a/p-d))%b-b),k=_,C=-f*p/2+(v/p+f*p)%m-m,A=(f+x)*p+m,M=(d+g)*p+b;if(o&&(A=0),o){var S=C-f*p/2-p*C/x;for(_=k;M>_;_+=b){var u=-_+d*p+p*_/g;o||this.image_ext(l,r+S,c+u,p,1,!0),o&&this.image_scaled(l,r+S,c+u,p,1,!0)}}else for(C;A>C;C+=m){var S=C-f*p/2-1*C/x;for(_=k;M>_;_+=b){var u=-_+d*p+1*_/g;o||this.image_ext(l,r+S,c+u,p,1,!0),o&&this.image_scaled(l,r+S,c+u,p,1,!0)}}},setBleed:function(t){this.bleed=t},rotate_at:function(t,i,e){if("object"==typeof i)var i=i.x,e=e.y;else var i=i,e=e;this.stat=this.chk(i,e,1,1,1,1,1),this.buffer_context.translate(-this.stat.x,-this.stat.y),this.buffer_context.rotate(.0174532925*t)},rotate:function(t){return this.buffer_context.rotate(.0174532925*t)},translate:function(t,i){if("object"==typeof t)var t=t.x,i=i.y;else var t=t,i=i;return this.stat=this.chk(t,i,1,1,1,1,1),this.buffer_context.translate(-this.stat.x,-this.stat.y)},button:function(t,i,e,s){
this.image_button(t,i,e,1,s,!0,1,1,1,1)},button_scaled:function(t,i,e,s,n){this.image_button(t,i,e,s,n,!0,1,1,1,1)},buttonH:function(t,i,e,s,n){this.image_buttonH(t,i,e,s,n,!0,1,1,1,1)},image_button:function(t,i,e,s,n,a,h,o,r,c){this.stat=this.chk(i,e,t.width*s*h,t.height*s*o,s,r,c);var s=this.stat2=this.chk(i,e,t.width*s*h*.9,t.height*s*o*.9,s,r,c),p=!1;return this.touch_within_stat(s)?(p=!0,this.highlight&&this.opacity(this.stat.a-.2*this.app.input.pressed),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.app.input.released&&(n(),this.app.input.delay=1),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w,this.stat.h)):(this.highlight&&this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w,this.stat.h)),p},image_buttonH:function(t,i,e,s,n,a,h,o,r,c){this.stat=this.chk(i,e,t.width*s*h,t.height*s*o,s,r,c);var s=this.stat2=this.chk(i,e,t.width*s*h*.9,t.height*s*o*.9,s,r,c),p=!1;return this.touch_within_stat(s,!0)?(p=!0,this.highlight&&this.opacity(this.stat.a-.2*this.app.input.pressed),this.app.ext.cursor.set(this.app.ext.cursor.pointer,!0),this.app.input.pressed&&(n(),this.app.input.delay=1),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w,this.stat.h)):(this.highlight&&this.opacity(.75*this.stat.a),this.stat.c?this.buffer_context.drawImage(t,this.stat.x-Math.floor(this.stat.w/2),this.stat.y-Math.floor(this.stat.h/2),this.stat.w,this.stat.h):this.buffer_context.drawImage(t,this.stat.x,this.stat.y,this.stat.w,this.stat.h)),p},touch_within:function(t,i,e,s,n){var a=document.documentElement;return this.left=(window.pageXOffset||a.scrollLeft)-(a.clientLeft||0),this.top=(window.pageYOffset||a.scrollTop)-(a.clientTop||0),i-=this.top,t-=this.left,n?App.input.x>t-e/2&&App.input.x<t+e/2&&App.input.y>i-s/2&&App.input.y<i+s/2?!0:!1:App.input.x>t&&App.input.x<t+e&&App.input.y>i&&App.input.y<i+s?!0:!1},touch_within2:function(t,i,e,s,n){var a=this.stat=this.chk(t,i,e,s,1,1,n),h=document.documentElement;return this.left=(window.pageXOffset||h.scrollLeft)-(h.clientLeft||0),this.top=(window.pageYOffset||h.scrollTop)-(h.clientTop||0),a.y=a.y-this.top,a.x=a.x-this.left,a.c?this.app.input.x>a.x-a.w/2&&this.app.input.x<a.x+a.w/2&&this.app.input.y>a.y-a.h/2&&this.app.input.y<a.y+a.h/2?!0:!1:this.app.input.x>a.x&&this.app.input.x<a.x+a.w&&this.app.input.y>a.y&&this.app.input.y<a.y+a.h?!0:!1},touch_within_stat:function(t,i){var e=document.documentElement,s=window;this.left=(s.pageXOffset||e.scrollLeft)-(e.clientLeft||0),this.top=(s.pageYOffset||e.scrollTop)-(e.clientTop||0),t.y=t.y-this.top,t.x=t.x-this.left;var n=this.app.input.x,a=this.app.input.y;return i||(n=this.app.input.touched.last.x,a=this.app.input.touched.last.y),t.c?n>t.x-t.w/2&&n<t.x+t.w/2&&a>t.y-t.h/2&&a<t.y+t.h/2?!0:!1:a>t.x&&n<t.x+t.w&&a>t.y&&a<t.y+t.h?!0:!1},line:function(t,i,e,s,n,a){this.stat=this.chk(t,i,e,s,1,a,!0),this.stat2=this.chk(e,s,e,s,1,a,!0),this.buffer_context.beginPath(),this.buffer_context.moveTo(this.stat.x,this.stat.y),this.buffer_context.lineTo(this.stat2.x,this.stat2.y),this.buffer_context.strokeStyle=n,this.buffer_context.stroke(),this.clean()},lines:function(t,i,e,s,n,a,h){this.stat=this.chk(t,i,e,s,1,a,!0),this.stat2=this.chk(e,s,e,s,1,a,!0),this.buffer_context.moveTo(this.stat.x*h,this.stat.y*h),this.opacity(a),this.buffer_context.strokeStyle=n,this.buffer_context.lineTo(this.stat2.x*h,this.stat2.y*h)},lineend:function(){this.buffer_context.stroke()},linestart:function(){this.buffer_context.beginPath()},triangle:function(t,i,e,s,n,a,h,o,r){this.colour(h,o),this.buffer_context.lineWidth=r,this.buffer_context.moveTo(t,i),this.buffer_context.lineTo(e,s),this.buffer_context.lineTo(n,a),this.buffer_context.lineTo(t,i),this.buffer_context.fill(),this.buffer_context.stroke(),this.buffer_context.closePath(),this.clean()},quadraticCurve:function(t,i,e,s,n,a){var h=this.buffer_context.strokeStyle,o=this.buffer_context.fillStyle;this.stat=this.chk(t,i,1,1,1,n,!0,a),this.stat2=this.chk(e,s,1,1,1,n,!0,a),this.buffer_context.beginPath(),this.buffer_context.quadraticCurveTo(this.stat.x,this.stat.y,this.stat2.x,this.stat2.y),this.buffer_context.strokeStyle=a,this.buffer_context.stroke(),this.buffer_context.fill(),this.stat=this.chk(t,i,1,1,1,n,!0,h),this.stat2=this.chk(e,s,1,1,1,n,!0,h),this.buffer_context.strokeStyle=h,this.buffer_context.fillStyle=o},paths:{_initalized:!1,_count:!1,init:function(t){return this.list=[],this.visuals=t,this._initalized=!0,this._count=0,this},list:[],render:function(t){var i=t.list,e=t.list.length,s=0;for(s=0;e-1>=s;s++)this.visuals.rect(i[s].x,i[s].y,1,1,"#FFFFFF");return!0},addPath:function(t,i,e){var s={name:t,x:i,y:e};s.addPoint=this.addPoint,s.list=[],s.p=this;var n=this.list.push(s);return n.p=this,this.list[this._count++]},addPoint:function(t,i){this.list.push({x:this.x+t,y:this.y+i})}},circle:function(t,i,e,s,n){this.stat=this.chk(t,i,1,1,e,n,!0,s),this.buffer_context.beginPath(),this.buffer_context.arc(this.stat.x,this.stat.y,this.stat.s*this.scale,0,2*Math.PI,!1),this.buffer_context.fillStyle=this.stat.colour,this.buffer_context.fill(),this.clean()},circle_free:function(t,i,e,s,n){this.stat=this.chk(t,i,e,e,e,n,1,s),this.buffer_context.beginPath(),this.buffer_context.arc(t,i,e*this.scale,0,2*Math.PI,!1),this.buffer_context.fillStyle=this.stat.col,this.buffer_context.fill(),this.clean()},text_width:function(t){return this.buffer_context.measureText(t).width}},constructor:function(t){return{app:{value:t},init:{value:function(){this.animationFrame(),this.scale=this.app.scale,this.canvas=this.app.canvas.getCanvas(),this.buffer=this.app.canvas.getBuffer(),this.canvas_context=this.canvas.getContext("2d"),this.app.options.canvas.buffer?this.buffer_context=this.buffer.getContext("2d"):this.buffer_context=this.canvas.getContext("2d")}}}}}}}}}),temp=Object.create(temp.prototype,temp.constructor),temp.Listener(document,"DOMContentLoaded",temp.OnApplicationLoad),temp.id=this.window.appsNextId,this.window.apps[temp.id]=temp,this.window.appsNextId++,this.window.apps[temp.id]}}).init()}]);