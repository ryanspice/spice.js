<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <title>SpiceJS</title>    
    <script rel=prefetch type="application/x-javascript" src="../spice.js"></script>
</head>
<body>
<script rel="prefetch" name="main" type="text/javascript" defer>
var App = SpiceJS.create();
//Application OnLoad
App.OnLoad = function (self) {
	
	//App.Init(title,width,height)
	self.Init("SpiceJS", 480, 25);

	//Set canvas background colour ( colour )
	self.canvas.setBackground("transparent");

	//Assign favicon
	self.ext.metatag.metaFavicon("../favicon.png");
};
	
//Application main loop Object[init,update,draw]
App.main= {
	
	name:"Example",

	init:function() {

		//Initialization Logic
		this.steve = this.app.create({x:0,y:0});
		var height = 25;
		this.getY = function(i,timeStep){return App.getHeight()/2 + (height/2) * (1 + Math.sin((timeStep * (i/5500 + 0.02)) % 2*Math.PI));}
		this.timeStep = 0;
		this.count = 256;
		this.accel = 0;
		return true;
	},
	
	update:function() {

		//Game logic	
		//this.steve.x++;

		return true;
	},

	draw:function() {
		
		//Draw Logic
		
		//Draw Rectangle ( x , y, width, height, scale, alpha, centered, colour)
		//this.visuals.rect_ext(0,0,this.app.getWidth(),this.app.getHeight(),1,1,false,"#DDDDDD");
		
		//Draw Circle ( x , y, radius, colour, alpha)
		var a = 1.9;
		//this.visuals.circle_free(this.app.ext.input.x,this.app.ext.input.y,11,"#444444",1);
		for (var i = 0; i < this.count; i++ ){
			
			//if (0+a*i>this.app.getWidth())
			//	continue;
			this.visuals.quadraticCurve(0+a*i,this.getY(i,this.timeStep),+a*(i+1),this.getY(i+1,this.timeStep),1,"#6666FF");
			
			//this.visuals.circle_free(0+a*i,this.getY(i,this.timeStep),+a*(i+1),this.getY(i+1,this.timeStep),1,"#444444",1);
			
			if (this.app.ext.useragent.mobile)
				continue;
			
	}
		
		
		this.timeStep+=this.accel+=0.025*this.app.getDelta();
		return true;
	}

};

	
</script>
<canvas id="canvas"></canvas>
<canvas id="buffer"></canvas>
</body>
</html>